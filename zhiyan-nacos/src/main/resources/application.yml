server:
  # 端口
  port: 8849

spring:
  config:
    import: nacos:zhiyan-nacos.yaml
  application:
    # 服务名称，在Nacos控制台显示的服务标识
    name: zhiyan-nacos
  cloud:
    nacos:
      # 服务发现配置（注册中心核心配置）
      discovery:
        # Nacos服务器地址，集群环境用逗号分隔多个地址
        server-addr: 127.0.0.1:8848
        # 命名空间ID或名称，用于环境隔离
        namespace: zhiyan-dev
        # 服务分组
        group: DEFAULT_GROUP
        # 注册到Nacos的服务名，默认使用应用名
        service: zhiyan-nacos
        # 服务权重，用于负载均衡
        weight: 1.0

      # 配置中心相关配置
      config:
        # 与注册中心共用地址
        server-addr: ${spring.cloud.nacos.discovery.server-addr}
        file-extension: yaml
        namespace: zhiyan-dev
        group: DEFAULT_GROUP
        # 配置内容编码
        encode: UTF-8
        # 是否启用配置自动刷新
        refresh-enabled: true


logging:
  level:
    # 根日志级别
    root: INFO
    # Nacos客户端日志级别
    com.alibaba.nacos: INFO
    # Spring Cloud相关日志级别
    org.springframework.cloud: INFO
  file:
    # 日志文件路径
    name: logs/${spring.application.name}/${spring.application.name}.log
  pattern:
    # 控制台日志格式
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n"
    # 文件日志格式
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n"


# 管理端点配置（Spring Boot Actuator）
management:
  endpoints:
    web:
      exposure:
        include: '*'
  endpoint:
    health:
      show-details: always
    info:
      # 启用info端点
      enabled: true
    metrics:
      # 启用 metrics 端点，用于监控
      enabled: true


# 应用信息配置（供info端点使用）
info:
  app:
    name: ${spring.application.name}
    version: 0.0.1-SNAPSHOT
    description: '智研项目微服务注册中心（基于Nacos）'
  java:
    version: ${java.version}
  spring:
    version: ${spring.boot.version}